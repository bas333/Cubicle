<head>
  <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
</head>


<template name="forum">
  <div class="requesting">
  <h1>Forum</h1>
  {{> makepost}}
  <hr>
  {{#each p in requests}}
    {{#if isOwner p}}
      <div class="four wide column">
        {{> showownpost p=p}}
      </div>
    {{/if}}
  {{/each}}
  </div>
</template>

<template name="makepost">
  <div class="ui form">
    <div class="makepost">
    <label>Add a post on Forum to request items that are not available</label>
    <textarea id="forumpost" placeholder="I need a chair but is not currently available..."></textarea>
  </div>
  <button class="ui button" id="submitforum">Post</button>
</div>

  <div class="voice_add_forum">
    <h2 class="ui dividing header">Create a New Requesting Post</h2>
      <div class="ui form">
        <div class="field">
          <textarea id="forumpost" placeholder="Any request?"></textarea>
        </div>
        <button class="ui secondary basic button" data-tooltip="Click here to use speech" data-position="bottom center" id="forumrec"><i class="announcement icon"></i>Speak</button>
        <button class="ui button" id="submitforum">Post</button>
      </div>
    </div>

</template>

<template name="showownpost">
  <div class="post">
    <p>{{p.createdAt}}<br>
    <i class="user icon"></i>{{p.name}}<br>
    <i class="comment icon"></i>{{p.text}}<br>
<button id="editforum" class="ui button" data-toggle="modal" data-target="#myModal_{{p._id}}">Edit</button>

    <div class="modal fade" id="myModal_{{p._id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel">Edit Product</h4>
          </div>
          <div class="modal-body">
            <form method="post" class="ui form">
              <div class="field">
                  <label for="itemname">Post:</label>
                  <input type="text" id="editforumpost" value="{{p.text}}">
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="ui button small" data-dismiss="modal">Close</button>
            <button type="button" class="ui button small primary" id="updateforum">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <button class="ui button" id="deleteforum">Delete</button></p>
  </div>
</template>
